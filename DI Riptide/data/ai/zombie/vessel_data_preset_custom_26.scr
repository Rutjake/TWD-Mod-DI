!include("ai_data.def")
!include("vessel_timing_events.def")
!include("vessel_sound_types.def")

/********************************************************************************************************************************************************************************************************
																			Grenadier during the "bunker defence" quest
********************************************************************************************************************************************************************************************************/

///////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////// DATA ///////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////

//###############
//#### START ####
//###############
//## start:is_standing:alarm_level:item_type:movement_type:angle:direction
//##############

Data("start:laying::::90:left", -2, "mz_upset_standup_fast_v02b")
Data("start:laying::::90:right", -2, "mz_upset_standup_fast_v02b")
Data("start:laying::::0:", -2, "mz_upset_standup_fast_v02b")
Data("start:laying::::180:left", -2, "mz_upset_standup_fast_v02b")
Data("start:laying::::180:right", -2, "mz_upset_standup_fast_v02b")

///////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////// PARAMETERS ////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////

ParamFloat("drowning_damage", 1.0)

ParamBool("ignore_enemies_that_are_grabbed", 1)
ParamBool("ignore_ais", 1)
ParamInt("ignore_enemies_with_more_attackers_than", 1)

ParamFloat("navi_mesh_sight_range",40.0)    // Converted

/********************************************************************************************************************************************************************************************************
																			Standard params
********************************************************************************************************************************************************************************************************/

ParamInt("zombie_type", 8)									// GRENADIER
ParamFloat("melee_range",0.0)    // Converted
ParamFloat("min_time_btw_projectile_attacks", 999.0)
ParamBool("melee_attack_only_when_facing_target", 0)		// ??? ...
ParamFloat("projectile_attack_range",16.000000)    // Converted
ParamFloat("projectile_speed",18.000000)    // Converted
ParamFloat("projectile_damage_mul", 0.0)
ParamFloat("projectiles_capacity", 0.0)
ParamFloat("projectile_regen_threshold", 0.0)
ParamFloat("projectiles_regeneration", 0.75)
ParamFloat("projectile_cost", 1.0)
ParamFloat("projectile_power_randomization", 0.3)
ParamInt("number_of_missed_projectiles_to_cause_move", 2)
ParamFloat("movement_time_after_projectile_misses", 3.0)
ParamFloat("regeneration_rate", 0.0)
ParamFloat("turn_speed", 120.0)
Curve(CURVE_KO_PROBABILITY, "zombie_ko_prob")

///////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////// DATA ///////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////

//#######################
//#### HIT REACTIONS ####
//#######################
//## hit_reaction:pose:hit_reaction:item_type:damage_type:attacker_pos:body_part:direction:severity
//#######################


Data("hit_reaction:standing:counter_attack::all:::backward:light", -2, "mz_upset_stand_hitreaction_torso_counterattack_v01")
Data("hit_reaction:standing:counter_attack::all:::backward:light", -2, "mz_upset_stand_hitreaction_torso_counterattack_v02")
Data("hit_reaction:standing:counter_attack::all:::backward:light", -2, "mz_upset_stand_hitreaction_torso_counterattack_v05")

Data("hit_reaction:standing:counter_attack::all:::backward:medium", -2, "mz_upset_stand_hitreaction_torso_counterattack_v01")
Data("hit_reaction:standing:counter_attack::all:::backward:medium", -2, "mz_upset_stand_hitreaction_torso_counterattack_v02")
Data("hit_reaction:standing:counter_attack::all:::backward:medium", -2, "mz_upset_stand_hitreaction_torso_counterattack_v05")

Data("hit_reaction:standing:counter_attack::all:::backward:heavy", -2, "mz_upset_stand_hitreaction_torso_counterattack_v01")
Data("hit_reaction:standing:counter_attack::all:::backward:heavy", -2, "mz_upset_stand_hitreaction_torso_counterattack_v02")
Data("hit_reaction:standing:counter_attack::all:::backward:heavy", -2, "mz_upset_stand_hitreaction_torso_counterattack_v05")

Data("hit_reaction:standing:pain::all:::backward:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v01")
Data("hit_reaction:standing:pain::all:::backward:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v02")
Data("hit_reaction:standing:pain::all:::backward:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v03")

Data("hit_reaction:standing:pain::all:front::up:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v01")
Data("hit_reaction:standing:pain::all:front::up:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v02")
Data("hit_reaction:standing:pain::all:front::up:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v03")

Data("hit_reaction:standing:pain::all::head:up:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v01")
Data("hit_reaction:standing:pain::all::head:up:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v02")
Data("hit_reaction:standing:pain::all::head:up:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v03")

Data("hit_reaction:standing:pain::all::head:down:heavy", -2, "mz_upset_stand_hitreaction_head_down_heavy_v01")
Data("hit_reaction:standing:pain::all::head:down:heavy", -2, "mz_upset_stand_hitreaction_head_down_heavy_v02")
Data("hit_reaction:standing:pain::all::head:down:heavy", -2, "mz_upset_stand_hitreaction_head_down_heavy_v03")

Data("hit_reaction:standing:pain::all::head:right:heavy", -2, "mz_upset_stand_hitreaction_torso_right_heavy_v02")
Data("hit_reaction:standing:pain::all::head:right:heavy", -2, "mz_upset_stand_hitreaction_torso_right_heavy_v03")

Data("hit_reaction:standing:pain::all::head:left:heavy", -2, "mz_upset_stand_hitreaction_head_left_heavy_v01")
Data("hit_reaction:standing:pain::all::head:left:heavy", -2, "mz_upset_stand_hitreaction_head_left_heavy_v02")

Data("hit_reaction:standing:pain::all::torso:up:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v01")
Data("hit_reaction:standing:pain::all::torso:up:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v02")
Data("hit_reaction:standing:pain::all::torso:up:heavy", -2, "mz_upset_stand_hitreaction_head_up_medium_v03")

Data("hit_reaction:standing:pain::all::torso:down:heavy", -2, "mz_upset_stand_hitreaction_head_down_heavy_v01")
Data("hit_reaction:standing:pain::all::torso:down:heavy", -2, "mz_upset_stand_hitreaction_head_down_heavy_v02")
Data("hit_reaction:standing:pain::all::torso:down:heavy", -2, "mz_upset_stand_hitreaction_head_down_heavy_v03")

Data("hit_reaction:standing:counter_attack::all::::", -2, "MZ_ChargeReaction")

//##############
//#### IDLE ####
//##############
//## idle:pose:idle_type:item_type:scare_level:is_idle_prepare:is_idle_finish
//##############

Data("idle:standing:regenerate::::", -2, "MZ_Grenadier_Regeneration")

Data("idle:standing:stand:none:none:none:none", -2, "mz_a_calm_stand_idle_v01")
Data("idle:standing:stand:none:none:none:none", -2, "mz_a_calm_stand_idle_v02")
Data("idle:standing:stand:none:none:none:none", -2, "mz_a_calm_stand_idle_v03")
Data("idle:standing:stand:none:none:none:none", -2, "mz_a_calm_stand_idle_v04")

//##################
//#### ALARMING ####
//##################
//## alarming:is_standing:alarm_level
//##################

//Data("alarming:standing:alarmed::", 1.0, "mz_a_calm_stand_idle_v01")

//################
//#### ATTACK ####
//################
//## attack:is_standing:item_type:attack_type:attack_dir:attack_range:is_defending_head:is_holding
//################

//Data("attack:standing::projectile::::", -2, "MZ_Grenadier_Attack_Throw")
//Data("attack:standing::projectile::::", -2, "MZ_Grenadier_Attack_Throw")
//Data("attack:standing::projectile::::", -2, "MZ_Grenadier_Attack_Throw")
//Data("attack:standing::projectile::::", -2, "MZ_Grenadier_Attack_Throw_2")
//Data("attack:standing::projectile::::", -2, "MZ_Grenadier_Attack_Throw_2")
//Data("attack:standing::projectile::::", -2, "MZ_Grenadier_Attack_Throw_3")

//Data("attack:standing::left_arm_strike::::", -2, "grenadier_strike_left_hand1")
//Data("attack:standing::left_arm_strike::::", -2, "grenadier_strike_left_hand2")
//Data("attack:standing::right_arm_strike::::", -2, "grenadier_strike_right_hand1")
//Data("attack:standing::right_arm_strike::::", -2, "grenadier_strike_right_hand2")
Data("attack:standing::arm_strike_combo::::", 0, "")

Data("attack:standing::taunt::::", -2, "Thug_taunt_01")

//##################
//#### MOVEMENT ####
//##################
//## movement:is_standing:movement_type:alarm_level:item_type:is_left_leg_crippled:is_right_leg_crippled:ram_type
//##################

Data("movement:standing:walk:calm:none:none:none:", -2, "mz_c_calm_walk_v01")
Data("movement:standing:walk::none:none:none:", -2, "mz_c_upset_walk_v01")

//Data("movement:standing:walk:alarmed:none:none:none:", -2, "mz_c_upset_injured_leg_r_walk_v01")

Data("movement:standing:run:calm:none:none:none:", -2, "mz_c_calm_walk_v01")
Data("movement:standing:run::none:none:none:", -2, "mz_c_upset_walk_v01")

//Data("movement:standing:run:alarmed:none:none:none:", -2, "mz_c_upset_injured_leg_r_walk_v01")

Data("movement:standing:walk:alarmed::::", -2, "m_npc_unarmed_walk_left_v01")
Data("movement:standing:walk:alarmed::::", -2, "m_npc_unarmed_walk_right_v01")
Data("movement:standing:walk:alarmed::::", -2, "m_npc_unarmed_walk_backward")

Data("movement:standing:walk:calm::::", -2, "m_npc_unarmed_walk_left_v01")
Data("movement:standing:walk:calm::::", -2, "m_npc_unarmed_walk_right_v01")
Data("movement:standing:walk:calm::::", -2, "m_npc_unarmed_walk_backward")


Data("movement:standing:berserker_left_arm:alarmed::::", -2, "mz_upset_attack_berserker_lefthand_v02")
Data("movement:standing:berserker_left_arm:alarmed::::", -2, "mz_upset_attack_berserker_lefthand_v03")
Data("movement:standing:berserker_left_arm:alarmed::::", -2, "mz_upset_attack_berserker_lefthand_v04")

Data("movement:standing:berserker_left_arm_strike:alarmed::::", -2, "mz_left_arm_strike_berserker_v02")
Data("movement:standing:berserker_left_arm_strike:alarmed::::", -2, "mz_left_arm_strike_berserker_v03")
Data("movement:standing:berserker_left_arm_strike:alarmed::::", -2, "mz_left_arm_strike_berserker_v04")

Data("movement:standing:berserker_right_arm:alarmed::::", -2, "mz_upset_attack_berserker_righthand_v02")
Data("movement:standing:berserker_right_arm:alarmed::::", -2, "mz_upset_attack_berserker_righthand_v03")

Data("movement:standing:berserker_right_arm_strike:alarmed::::", -2, "mz_right_arm_strike_berserker_v02")
Data("movement:standing:berserker_right_arm_strike:alarmed::::", -2, "mz_right_arm_strike_berserker_v03")
//##############
//#### TURN ####
//##############
//## turn:is_standing:alarm_level:item_type:direction:angle
//##############

Data("turn:standing:::left:45", -2, "mz_c_calm_turn_45_l")
Data("turn:standing:::right:45", -2, "mz_c_calm_turn_45_r")

Data("turn:standing:::left:90", -2, "mz_c_calm_turn_90_l")
Data("turn:standing:::right:90", -2, "mz_c_calm_turn_90_r")

Data("turn:standing:::left:180", -2, "mz_c_calm_turn_180_l")
Data("turn:standing:::right:180", -2, "mz_c_calm_turn_180_r")

//###############
//#### START ####
//###############
//## start:is_standing:alarm_level:item_type:movement_type:angle:direction
//##############

Data("start:standing:calm:::90:left", -2, "mz_c_calm_startwalkturn_90_l")
Data("start:standing:calm:::90:right", -2, "mz_c_calm_startwalkturn_90_r")
Data("start:standing:calm:::0:", -2, "mz_c_calm_walk_start_f_v01")
Data("start:standing:calm:::180:left", -2, "mz_c_calm_startwalkturn_180_l")
Data("start:standing:calm:::180:right", -2, "mz_c_calm_startwalkturn_180_r")

Data("start:standing::::90:left", -2, "mz_c_upset_startwalkl_fast")
Data("start:standing::::90:right", -2, "mz_c_upset_startwalkr_fast")
Data("start:standing::::0:", -2, "mz_c_upset_startwalkf_fast")
//Data("start:standing::::180:left", -2, "mz_c_upset_startwalkbl_fast")
//Data("start:standing::::180:right", -2, "mz_c_upset_startwalkbr_fast")
Data("start:standing::::180:", -2, "mz_c_upset_startwalkbr_fast")


///////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////// PARAMETERS ////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////

ParamFloat("walk_speed_calm", 0.4)
ParamFloat("walk_speed_alarmed", 0.4)
ParamFloat("run_speed_calm", 0.4)
ParamFloat("run_speed_alarmed", 0.5)
ParamFloat("sprint_speed_calm", 0.4)
ParamFloat("sprint_speed_alarmed", 0.5)
ParamFloat("stamina_regeneration_rate", 0.0)
ParamFloat("medium_severity_threshold", 50.0)      // Laskettu: reagoi helpommin
ParamFloat("heavy_severity_threshold", 80.0)       // Laskettu: reagoi helpommin
ParamBool("always_react_on_kick", 1)               // Muutettu: 0 -> 1
ParamFloat("decapitation_prob", 1.0)
ParamFloat("berserker_hit_prob", 0.0)
ParamFloat("berserker_grab_prob", 0.0)
ParamFloat("berserker_ram_prob", 0.0)
ParamBool("can_fall", 1)                           // Muutettu: 0 -> 1
ParamBool("can_react_on_hit", 1)
ParamBool("always_react_on_impact", 1)
ParamFloat("bite_range", 1.2)
ParamFloat("bite_damage_mul", 1.5)                 // Laskettu
ParamFloat("min_time_btw_attack_from_stand_attempts", 0.0) 
ParamFloat("max_time_btw_attack_from_stand_attempts", 0.8)
ParamFloat("taunt_prob", 0.0)
ParamFloat("taunt_prob_on_target_change", 0.0)
ParamFloat("random_taunt_prob", 0.0)
ParamFloat("health_mul", 1.0)                      // Laskettu 2.5 -> 2.0
ParamFloat("stamina_mul", 1.0)                     // Laskettu 20.0 -> 1.0
ParamFloat("damage_mul", 1.0)                      // Laskettu 1.2 -> 1.0
ParamFloat("physics_damage", 0.8)
ParamFloat("experience_mul", 20.0)
ParamInt("max_severity", 3)                        // Muutettu 1 -> 3
ParamFloat("min_time_btw_hit_reactions", 0.5)      // Laskettu 3.0 -> 0.5
ParamInt("idle_alarmed_sound_type", SOUND_TYPE_IDLE_CALM)
ParamBool("force_counter_on_kick", 0)              // Muutettu 1 -> 0
ParamFloat("counter_attack_from_stand_prob_mul", 0.0)
ParamFloat("counter_push_prob_mul", 0.0)
ParamFloat("counter_combo_prob_mul", 0.0)
ParamBool("use_anim_speed_to_move", 0)
ParamBool("use_anim_speed_to_walk", 0)
ParamBool("can_strike_from_stand", 0)             // Muutettu 1 -> 0
ParamBool("can_attack_from_move", 0)
ParamBool("limb_cut_by_direct_hit", 1)             // Muutettu 0 -> 1
ParamFloat("head_health_influence", 20.0)
ParamFloat("left_arm_health_influence", 1.0)       // Nostettu
ParamFloat("right_arm_health_influence", 1.0)      // Nostettu
ParamFloat("left_leg_health_influence", 1.0)
ParamFloat("right_leg_health_influence", 1.0)
ParamFloat("torso_front_health_influence", 1.0)
ParamFloat("torso_back_health_influence", 1.0)
ParamBool("use_anim_speed_to_walk", 0)
ParamBool("arms_can_be_cut_off", 1)                // Muutettu 0 -> 1
ParamFloat("projectile_base_range", 0.0)           // Muutettu 2.50 -> 0.0
ParamFloat("fall_on_normal_hit_prob", 0.8)         // Muutettu 0.0 -> 1.0

// resistance
ParamBool("cannot_be_attacked_by_jump_down_attack", 0) // Muutettu 1 -> 0
ParamBool("fall_on_head_collision", 1)                 // Muutettu 0 -> 1